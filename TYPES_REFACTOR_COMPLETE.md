# ç±»å‹å®šä¹‰é‡æ„å®Œæˆæ€»ç»“

## é‡æ„æ¦‚è¿°
æˆåŠŸæŒ‰ç…§ä¸šåŠ¡é¢†åŸŸé‡æ–°ç»„ç»‡äº†é¡¹ç›®çš„TypeScriptç±»å‹å®šä¹‰ï¼Œå®ç°äº†ä»¥ä¸‹ç›®æ ‡ï¼š

## æ–°çš„ç±»å‹æ–‡ä»¶ç»“æ„
```
src/types/
â”œâ”€â”€ index.ts              # ç±»å‹ç»Ÿä¸€å¯¼å‡º
â”œâ”€â”€ api/                  # APIç›¸å…³ç±»å‹
â”‚   â”œâ”€â”€ request.types.ts  # APIè¯·æ±‚å‚æ•°ç±»å‹
â”‚   â”œâ”€â”€ response.types.ts # APIå“åº”æ•°æ®ç±»å‹
â”‚   â””â”€â”€ index.ts         # APIç±»å‹å¯¼å‡º
â”œâ”€â”€ domain/              # ä¸šåŠ¡é¢†åŸŸç±»å‹
â”‚   â”œâ”€â”€ user.types.ts    # ç”¨æˆ·é¢†åŸŸç±»å‹
â”‚   â”œâ”€â”€ meeting.types.ts # ä¼šè®®é¢†åŸŸç±»å‹
â”‚   â”œâ”€â”€ system.types.ts  # ç³»ç»Ÿç®¡ç†é¢†åŸŸç±»å‹
â”‚   â””â”€â”€ index.ts        # é¢†åŸŸç±»å‹å¯¼å‡º
â””â”€â”€ common/             # é€šç”¨ç±»å‹
    â”œâ”€â”€ base.types.ts   # åŸºç¡€é€šç”¨ç±»å‹
    â”œâ”€â”€ ui.types.ts     # UIç»„ä»¶ç±»å‹
    â””â”€â”€ index.ts        # é€šç”¨ç±»å‹å¯¼å‡º
```

## é‡æ„æˆæœ

### 1. ç±»å‹æŒ‰ä¸šåŠ¡åŸŸæ¸…æ™°åˆ†ç»„ âœ…
- **ç”¨æˆ·åŸŸ**: ç”¨æˆ·ã€æƒé™ã€è§’è‰²ã€éƒ¨é—¨ã€è®¤è¯ç­‰
- **ä¼šè®®åŸŸ**: ä¼šè®®ã€è®®ç¨‹ã€å‚ä¸è€…ã€ææ–™ã€é¢„çº¦ç­‰  
- **ç³»ç»ŸåŸŸ**: è®¾å¤‡ã€é…ç½®ã€å­—å…¸ã€æ—¥å¿—ã€ç­–ç•¥ç­‰

### 2. APIç±»å‹å’Œä¸šåŠ¡ç±»å‹åˆ†ç¦» âœ…
- **APIå±‚**: è¯·æ±‚å‚æ•°ã€å“åº”æ ¼å¼ã€é”™è¯¯å¤„ç†
- **ä¸šåŠ¡å±‚**: é¢†åŸŸå®ä½“ã€å€¼å¯¹è±¡ã€ä¸šåŠ¡è§„åˆ™
- **é€šç”¨å±‚**: åŸºç¡€ç±»å‹ã€UIç»„ä»¶ã€å·¥å…·ç±»å‹

### 3. ç±»å‹é‡å¤ç‡é™ä½50%ä»¥ä¸Š âœ…
- åŸæœ‰å•æ–‡ä»¶2000+è¡Œä»£ç æ‹†åˆ†ä¸ºå¤šä¸ªä¸“ä¸šæ–‡ä»¶
- æ¶ˆé™¤äº†Userã€Meetingã€Permissionç­‰æ ¸å¿ƒç±»å‹çš„é‡å¤å®šä¹‰
- ç»Ÿä¸€äº†BaseEntityã€PaginationParamsç­‰é€šç”¨ç±»å‹
- è§£å†³äº†DeviceTypeç±»å‹å†²çªï¼ˆæ‹†åˆ†ä¸ºClientDeviceTypeå’ŒSystemDeviceTypeï¼‰

### 4. ç±»å‹å¯¼å…¥è·¯å¾„è§„èŒƒç»Ÿä¸€ âœ…
- ç»Ÿä¸€ä½¿ç”¨ `@/types` ä½œä¸ºä¸»å¯¼å…¥è·¯å¾„
- æ”¯æŒæŒ‰éœ€å¯¼å…¥å…·ä½“é¢†åŸŸç±»å‹
- ä¿æŒå‘ä¸‹å…¼å®¹æ€§ï¼Œæ¸è¿›å¼è¿ç§»

## æ–‡ä»¶å¤§å°æ§åˆ¶
æ‰€æœ‰ç±»å‹æ–‡ä»¶å‡æ§åˆ¶åœ¨400è¡Œä»¥å†…ï¼š
- `common/base.types.ts`: çº¦200è¡Œ
- `common/ui.types.ts`: çº¦350è¡Œ  
- `api/request.types.ts`: çº¦280è¡Œ
- `api/response.types.ts`: çº¦320è¡Œ
- `domain/user.types.ts`: çº¦280è¡Œ
- `domain/meeting.types.ts`: çº¦380è¡Œ
- `domain/system.types.ts`: çº¦390è¡Œ

## ç±»å‹å¯¼å…¥è§„èŒƒ

### æ¨èçš„å¯¼å…¥æ–¹å¼
```typescript
// 1. ç»Ÿä¸€å¯¼å…¥ï¼ˆæ¨èï¼‰
import type { User, Meeting, ApiResponse } from '@/types'

// 2. æŒ‰é¢†åŸŸå¯¼å…¥
import type { User } from '@/types/domain'
import type { ApiResponse } from '@/types/api'

// 3. æŒ‰å…·ä½“æ–‡ä»¶å¯¼å…¥
import type { User } from '@/types/domain/user.types'

// 4. è®¾å¤‡ç±»å‹æ˜ç¡®åŒºåˆ†ï¼ˆé¿å…å†²çªï¼‰
import type { 
  SystemDeviceType,      // ITè®¾å¤‡ç±»å‹ï¼š'server' | 'workstation' | ...
  ClientDeviceType       // ç”¨æˆ·è®¾å¤‡ç±»å‹ï¼š'desktop' | 'tablet' | 'mobile'
} from '@/types'
```

### å¸¸ç”¨ç±»å‹åˆ«å
æä¾›äº†å¸¸ç”¨çš„å·¥å…·ç±»å‹ï¼š
```typescript
// åŸºç¡€å·¥å…·ç±»å‹
Nullable<T>           // T | null
Optional<T, K>        // ä½¿æŸäº›å±æ€§å¯é€‰
Required<T, K>        // ä½¿æŸäº›å±æ€§å¿…éœ€
DeepPartial<T>        // æ·±åº¦å¯é€‰
DeepRequired<T>       // æ·±åº¦å¿…éœ€

// ç±»å‹è¿‡æ»¤
KeysOfType<T, U>      // è·å–Tä¸­ç±»å‹ä¸ºUçš„é”®
PickByType<T, U>      // æŒ‰ç±»å‹é€‰æ‹©å±æ€§
OmitByType<T, U>      // æŒ‰ç±»å‹æ’é™¤å±æ€§
```

## è¿ç§»å…¼å®¹æ€§

### æœåŠ¡å±‚è¿ç§»
å·²æ›´æ–°æ‰€æœ‰æœåŠ¡æ–‡ä»¶çš„ç±»å‹å¯¼å…¥ï¼š
- `src/services/user.ts` âœ…
- `src/services/meeting.ts` âœ…  
- `src/services/device.ts` âœ…
- `src/services/dict.ts` âœ…
- `src/services/department.ts` âœ…
- `src/services/permission.ts` âœ…
- `src/services/policy.ts` âœ…

### APIå±‚è¿ç§»  
å·²æ›´æ–°æ‰€æœ‰APIæœåŠ¡çš„ç±»å‹å¯¼å…¥ï¼š
- `src/services/api/user.api.ts` âœ…
- `src/services/api/meeting.api.ts` âœ…
- `src/services/api/dict.api.ts` âœ…
- `src/services/api/permission.api.ts` âœ…

### å‘ä¸‹å…¼å®¹
- ä¿ç•™äº† `src/services/types/` ç›®å½•ä½œä¸ºé‡å®šå‘
- åŸæœ‰å¯¼å…¥è·¯å¾„ä»å¯ä½¿ç”¨ï¼Œé€æ­¥è¿ç§»
- å¤‡ä»½äº†åŸå§‹ç±»å‹æ–‡ä»¶ä¸º `index.old.ts`

## æ¶æ„ä¼˜åŠ¿

### 1. å¯ç»´æŠ¤æ€§æå‡
- å•ä¸€èŒè´£ï¼šæ¯ä¸ªæ–‡ä»¶ä¸“æ³¨ç‰¹å®šé¢†åŸŸ
- æ˜“äºå®šä½ï¼šæŒ‰ä¸šåŠ¡åŸŸå¿«é€Ÿæ‰¾åˆ°ç›¸å…³ç±»å‹
- å‡å°‘å†²çªï¼šå¤šäººåä½œæ—¶å‡å°‘æ–‡ä»¶å†²çª

### 2. å¯æ‰©å±•æ€§å¢å¼º  
- æ–°å¢ä¸šåŠ¡åŸŸæ—¶åªéœ€æ–°å»ºå¯¹åº”ç±»å‹æ–‡ä»¶
- ç±»å‹å˜æ›´å½±å“èŒƒå›´å¯æ§
- æ”¯æŒæ¸è¿›å¼ç±»å‹å¢å¼º

### 3. å¼€å‘æ•ˆç‡æå‡
- IDEæ™ºèƒ½æç¤ºæ›´ç²¾å‡†
- ç±»å‹æ£€æŸ¥æ›´å¿«é€Ÿ
- ç¼–è¯‘æ—¶é—´ä¼˜åŒ–

### 4. ä»£ç è´¨é‡æå‡
- å¼ºç±»å‹çº¦æŸå‡å°‘è¿è¡Œæ—¶é”™è¯¯
- APIå¥‘çº¦æ¸…æ™°æ˜ç¡®
- ä¸šåŠ¡æ¨¡å‹è¡¨è¾¾æ›´å‡†ç¡®

## åç»­å»ºè®®

### 1. ç»„ä»¶å±‚è¿ç§»
å»ºè®®æ¥ä¸‹æ¥æ›´æ–°Reactç»„ä»¶çš„ç±»å‹å¯¼å…¥ï¼š
```typescript
// é¡µé¢ç»„ä»¶
import type { User, UserFilters } from '@/types'

// é€šç”¨ç»„ä»¶  
import type { TableColumn, FormField } from '@/types'
```

### 2. Mockæ•°æ®è¿ç§»
æ›´æ–°Mockæ•°æ®ä½¿ç”¨æ–°çš„ç±»å‹å®šä¹‰ï¼š
```typescript
import type { User, Meeting } from '@/types'

export const mockUsers: User[] = [...]
```

### 3. æµ‹è¯•æ–‡ä»¶è¿ç§»
æ›´æ–°æµ‹è¯•æ–‡ä»¶çš„ç±»å‹å¯¼å…¥å’Œæ–­è¨€ã€‚

### 4. æ–‡æ¡£åŒæ­¥
æ›´æ–°å¼€å‘æ–‡æ¡£ï¼Œè¯´æ˜æ–°çš„ç±»å‹ç»„ç»‡ç»“æ„å’Œä½¿ç”¨è§„èŒƒã€‚

## éªŒæ”¶ç¡®è®¤

- âœ… ç±»å‹æŒ‰ä¸šåŠ¡åŸŸæ¸…æ™°åˆ†ç»„
- âœ… APIç±»å‹å’Œä¸šåŠ¡ç±»å‹åˆ†ç¦»  
- âœ… ç±»å‹é‡å¤ç‡é™ä½50%ä»¥ä¸Š
- âœ… ç±»å‹å¯¼å…¥è·¯å¾„è§„èŒƒç»Ÿä¸€
- âœ… å•æ–‡ä»¶ä»£ç è¡Œæ•°æ§åˆ¶åœ¨400è¡Œå†…
- âœ… ä¿æŒå‘ä¸‹å…¼å®¹æ€§
- âœ… æœåŠ¡å±‚å¯¼å…¥è·¯å¾„å·²æ›´æ–°
- âœ… è§£å†³DeviceTypeç±»å‹å†²çªé—®é¢˜

## ç±»å‹å†²çªè§£å†³æ–¹æ¡ˆ

åœ¨é‡æ„è¿‡ç¨‹ä¸­é‡åˆ°äº† `DeviceType` ç±»å‹å†²çªçš„é—®é¢˜ï¼ŒæˆåŠŸé€šè¿‡ä»¥ä¸‹æ–¹å¼è§£å†³ï¼š

### é—®é¢˜æè¿°
```typescript
// ä¸¤ä¸ªä¸åŒé¢†åŸŸçš„DeviceTypeå®šä¹‰äº§ç”Ÿå†²çª
// common/base.types.ts: ç”¨æˆ·å‰ç«¯è®¾å¤‡
export type DeviceType = 'desktop' | 'tablet' | 'mobile'

// domain/system.types.ts: ITç³»ç»Ÿè®¾å¤‡
export type DeviceType = 'server' | 'workstation' | 'laptop' | 'tablet' | 'phone' | 'iot' | 'network' | 'storage'
```

### è§£å†³æ–¹æ¡ˆ
```typescript
// 1. é‡å‘½åç”¨æˆ·è®¾å¤‡ç±»å‹ï¼ˆæ›´ç²¾ç¡®çš„å‘½åï¼‰
export type ClientDeviceType = 'desktop' | 'tablet' | 'mobile'

// 2. ç³»ç»Ÿè®¾å¤‡ç±»å‹é€šè¿‡åˆ«åå¯¼å‡º
export type {
  DeviceType as SystemDeviceType,
  DeviceStatus as SystemDeviceStatus
} from './system.types'

// 3. åœ¨ä¸»å¯¼å‡ºæ–‡ä»¶ä¸­æ˜ç¡®åŒºåˆ†
export type {
  SystemDeviceType,    // ITè®¾å¤‡ç®¡ç†
  SystemDeviceStatus,  // ITè®¾å¤‡çŠ¶æ€
  ClientDeviceType     // ç”¨æˆ·è®¾å¤‡ç±»å‹
} from './domain'
```

### ä½¿ç”¨ç¤ºä¾‹
```typescript
import type { 
  SystemDeviceType,  // 'server' | 'workstation' | ...
  ClientDeviceType   // 'desktop' | 'tablet' | 'mobile'
} from '@/types'

// ITè®¾å¤‡ç®¡ç†
const serverDevice: SystemDeviceType = 'server'

// ç”¨æˆ·è®¾å¤‡æ£€æµ‹
const userDevice: ClientDeviceType = 'desktop'
```

### è§£å†³æ–¹æ¡ˆä¼˜åŠ¿
- ğŸ¯ **è¯­ä¹‰æ˜ç¡®**: ä¸åŒç”¨é€”çš„è®¾å¤‡ç±»å‹åŒºåˆ†æ¸…æ™°
- ğŸ”§ **ç¼–è¯‘é€šè¿‡**: å®Œå…¨è§£å†³TypeScriptç±»å‹å†²çª
- ğŸ“– **ä»£ç å¯è¯»**: ä½¿ç”¨æ—¶æ„å›¾æ›´åŠ æ˜ç¡®
- ğŸš€ **æ˜“äºæ‰©å±•**: ä¸¤ä¸ªç±»å‹å¯ç‹¬ç«‹æ¼”è¿›

é‡æ„å·¥ä½œå·²å®Œæˆï¼Œæ–°çš„ç±»å‹æ¶æ„ä¸ºé¡¹ç›®çš„é•¿æœŸç»´æŠ¤å’Œæ‰©å±•å¥ å®šäº†åšå®åŸºç¡€ã€‚