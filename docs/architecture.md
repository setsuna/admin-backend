# æ¶æ„è®¾è®¡æ–‡æ¡£

## ğŸ“‹ æ¦‚è¿°

æœ¬æ–‡æ¡£è¯¦ç»†è¯´æ˜äº†Admin Backendé¡¹ç›®ç»è¿‡å…­é˜¶æ®µé‡æ„åçš„æœ€ç»ˆæ¶æ„è®¾è®¡ã€‚è¯¥æ¶æ„æ—¨åœ¨æä¾›ä¼ä¸šçº§çš„ä»£ç è´¨é‡ã€å¯ç»´æŠ¤æ€§å’Œå¯æ‰©å±•æ€§ã€‚

## ğŸ—ï¸ æ•´ä½“æ¶æ„è®¾è®¡

### æ¶æ„åŸåˆ™

1. **å•ä¸€èŒè´£åŸåˆ™**: æ¯ä¸ªæ¨¡å—ã€æ–‡ä»¶ã€å‡½æ•°éƒ½æœ‰æ˜ç¡®çš„å•ä¸€èŒè´£
2. **å…³æ³¨ç‚¹åˆ†ç¦»**: ä¸åŒå±‚çº§å¤„ç†ä¸åŒçš„å…³æ³¨ç‚¹ï¼Œé¿å…è€¦åˆ
3. **ä¾èµ–å€’ç½®**: é«˜å±‚æ¨¡å—ä¸ä¾èµ–ä½å±‚æ¨¡å—ï¼Œéƒ½ä¾èµ–æŠ½è±¡
4. **å¼€é—­åŸåˆ™**: å¯¹æ‰©å±•å¼€æ”¾ï¼Œå¯¹ä¿®æ”¹å°é—­
5. **ç±»å‹å®‰å…¨**: å…¨é“¾è·¯TypeScriptç±»å‹æ£€æŸ¥

### åˆ†å±‚æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                Pages                    â”‚  é¡µé¢å±‚ - è·¯ç”±å’Œé¡µé¢ç»„ä»¶
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚              Components                 â”‚  ç»„ä»¶å±‚ - UIç»„ä»¶å’Œä¸šåŠ¡ç»„ä»¶
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                Hooks                    â”‚  Hookså±‚ - ä¸šåŠ¡é€»è¾‘å°è£…
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                Store                    â”‚  çŠ¶æ€å±‚ - å…¨å±€çŠ¶æ€ç®¡ç†
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚               Services                  â”‚  æœåŠ¡å±‚ - APIè°ƒç”¨å’Œä¸šåŠ¡æœåŠ¡
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                Types                    â”‚  ç±»å‹å±‚ - TypeScriptç±»å‹å®šä¹‰
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                Config                   â”‚  é…ç½®å±‚ - åº”ç”¨é…ç½®ç®¡ç†
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                Utils                    â”‚  å·¥å…·å±‚ - é€šç”¨å·¥å…·å‡½æ•°
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“ è¯¦ç»†æ¶æ„è¯´æ˜

### 1. ç»„ä»¶å±‚ (Components)

#### è®¾è®¡ç†å¿µ
- **åˆ†å±‚è®¾è®¡**: ui â†’ business â†’ features â†’ layouts
- **ä¸šåŠ¡åŸŸåˆ†ç»„**: æŒ‰ç”¨æˆ·ã€ä¼šè®®ã€æƒé™ç­‰ä¸šåŠ¡åŸŸç»„ç»‡
- **ç›´æ¥å¯¼å…¥**: é¿å…å¾ªç¯ä¾èµ–ï¼Œæ˜ç¡®ä¾èµ–å…³ç³»

#### ç›®å½•ç»“æ„
```
components/
â”œâ”€â”€ ui/                 # åŸºç¡€UIç»„ä»¶
â”‚   â”œâ”€â”€ Button.tsx     # æŒ‰é’®ç»„ä»¶
â”‚   â”œâ”€â”€ Card.tsx       # å¡ç‰‡ç»„ä»¶
â”‚   â”œâ”€â”€ Modal.tsx      # æ¨¡æ€æ¡†ç»„ä»¶
â”‚   â””â”€â”€ ...
â”œâ”€â”€ business/          # ä¸šåŠ¡ç»„ä»¶ (æŒ‰ä¸šåŠ¡åŸŸåˆ†ç»„)
â”‚   â”œâ”€â”€ user/         # ç”¨æˆ·ç›¸å…³ä¸šåŠ¡ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ UserCard.tsx
â”‚   â”‚   â”œâ”€â”€ UserForm.tsx
â”‚   â”‚   â””â”€â”€ RoleSelect.tsx
â”‚   â”œâ”€â”€ meeting/      # ä¼šè®®ç›¸å…³ä¸šåŠ¡ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ MeetingCard.tsx
â”‚   â”‚   â”œâ”€â”€ AgendaForm.tsx
â”‚   â”‚   â””â”€â”€ ParticipantSelector.tsx
â”‚   â”œâ”€â”€ permission/   # æƒé™ç›¸å…³ä¸šåŠ¡ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ PermissionGuard.tsx
â”‚   â”‚   â”œâ”€â”€ PermissionCheck.tsx
â”‚   â”‚   â””â”€â”€ PermissionDebugger.tsx
â”‚   â””â”€â”€ department/   # éƒ¨é—¨ç›¸å…³ä¸šåŠ¡ç»„ä»¶
â”œâ”€â”€ features/         # åŠŸèƒ½ç‰¹æ€§ç»„ä»¶
â”‚   â”œâ”€â”€ DataTable.tsx
â”‚   â”œâ”€â”€ StatsCard.tsx
â”‚   â””â”€â”€ ...
â””â”€â”€ layouts/          # å¸ƒå±€ç»„ä»¶
    â”œâ”€â”€ MainLayout.tsx
    â”œâ”€â”€ Header.tsx
    â””â”€â”€ Sidebar.tsx
```

#### ä½¿ç”¨è§„èŒƒ
```typescript
// âœ… æ­£ç¡®çš„å¯¼å…¥æ–¹å¼
import { Button } from '@/components/ui/Button'
import { UserCard } from '@/components/business/user/UserCard'
import { PermissionGuard } from '@/components/business/permission/PermissionGuard'

// âŒ ç¦æ­¢çš„å¯¼å…¥æ–¹å¼ (ä¼šå¯¼è‡´å¾ªç¯ä¾èµ–)
import { Button, Card } from '@/components/ui'  // å·²ç§»é™¤
import { UserCard } from '@/components'         // å·²ç§»é™¤
```

---

### 2. æœåŠ¡å±‚ (Services)

#### è®¾è®¡ç†å¿µ
- **åˆ†å±‚æ¶æ„**: CoreæœåŠ¡ â†’ APIæœåŠ¡ â†’ BusinessæœåŠ¡
- **ç»Ÿä¸€HTTPå®¢æˆ·ç«¯**: æ‰€æœ‰è¯·æ±‚ä½¿ç”¨ç»Ÿä¸€çš„ httpClient
- **è‡ªåŠ¨æ•°æ®æå–**: httpClient è‡ªåŠ¨æå– response.data.data
- **ç±»å‹å®‰å…¨**: å®Œæ•´çš„ TypeScript ç±»å‹æ”¯æŒ

#### ç›®å½•ç»“æ„
```
services/
â”œâ”€â”€ core/              # æ ¸å¿ƒæœåŠ¡
â”‚   â”œâ”€â”€ http.client.ts   # ç»Ÿä¸€HTTPå®¢æˆ·ç«¯
â”‚   â”œâ”€â”€ auth.service.ts  # è®¤è¯æœåŠ¡
â”‚   â”œâ”€â”€ error.handler.ts # é”™è¯¯å¤„ç†å™¨
â”‚   â””â”€â”€ interceptors.ts  # è¯·æ±‚/å“åº”æ‹¦æˆªå™¨
â”œâ”€â”€ api/               # APIæœåŠ¡å±‚
â”‚   â”œâ”€â”€ dict.api.ts      # å­—å…¸APIæœåŠ¡
â”‚   â”œâ”€â”€ user.api.ts      # ç”¨æˆ·APIæœåŠ¡
â”‚   â””â”€â”€ meeting.api.ts   # ä¼šè®®APIæœåŠ¡
â””â”€â”€ *.ts               # ä¸šåŠ¡æœåŠ¡å±‚
    â”œâ”€â”€ dict.ts          # å­—å…¸ä¸šåŠ¡æœåŠ¡
    â”œâ”€â”€ user.ts          # ç”¨æˆ·ä¸šåŠ¡æœåŠ¡
    â””â”€â”€ meeting.ts       # ä¼šè®®ä¸šåŠ¡æœåŠ¡
```

#### âš ï¸ å…³é”®å¼€å‘è§„åˆ™ï¼ˆå¿…é¡»éµå®ˆï¼‰

**é‡è¦ï¼šhttpClient å·²ç»è‡ªåŠ¨æå–äº† response.data.dataï¼Œä¸éœ€è¦å†æ¬¡è®¿é—® .data**

```typescript
// âœ… æ­£ç¡®ï¼šAPIæœåŠ¡å±‚ç›´æ¥è¿”å› httpClient çš„ç»“æœ
export class DictApiService {
  private basePath = API_PATHS.DICTIONARIES

  async getDictionaries(
    filters: DictFilters,
    page: number,
    pageSize: number
  ): Promise<PaginatedResponse<DataDict>> {
    // httpClient.get å·²ç»è¿”å› response.data.dataï¼Œç›´æ¥è¿”å›
    return await httpClient.get<PaginatedResponse<DataDict>>(this.basePath, {
      ...filters,
      page,
      pageSize
    })
  }
  
  async getDictionary(id: string): Promise<DataDict> {
    // ç›´æ¥è¿”å›ï¼Œä¸éœ€è¦ .data
    return await httpClient.get<DataDict>(`${this.basePath}/${id}`)
  }
  
  async createDictionary(data: CreateDictRequest): Promise<DataDict> {
    // POST/PUT/PATCH/DELETE åŒæ ·ç›´æ¥è¿”å›
    return await httpClient.post<DataDict>(this.basePath, data)
  }
}

// âŒ é”™è¯¯ï¼šä¸è¦å†æ¬¡è®¿é—® .data
export class DictApiService {
  async getDictionaries(...): Promise<PaginatedResponse<DataDict>> {
    const response = await httpClient.get<PaginatedResponse<DataDict>>(...)
    return response.data  // âŒ é”™è¯¯ï¼ä¼šè¿”å› undefined
  }
}
```

**åŸç†è¯´æ˜ï¼š**

1. **åç«¯è¿”å›çš„æ ‡å‡†æ ¼å¼**ï¼š
```json
{
  "code": 200,
  "message": "success",
  "data": { "items": [...], "pagination": {...} },
  "timestamp": 1234567890
}
```

2. **httpClient çš„å†…éƒ¨å¤„ç†** (http.client.ts)ï¼š
```typescript
async get<T>(url: string, params?: any): Promise<T> {
  const response = await this.instance.get(url, { params })
  // è‡ªåŠ¨æå– data å­—æ®µ
  return response.data?.data || response.data
}
```

3. **APIæœåŠ¡å±‚å¾—åˆ°çš„å·²ç»æ˜¯æœ€ç»ˆæ•°æ®**ï¼š
```typescript
{ items: [...], pagination: {...} }  // å·²ç»æ˜¯ä¸šåŠ¡æ•°æ®
```

**æ‰€æœ‰ httpClient æ–¹æ³•éƒ½éµå¾ªæ­¤è§„åˆ™ï¼š**
- `httpClient.get<T>()` â†’ ç›´æ¥è¿”å› `T`
- `httpClient.post<T>()` â†’ ç›´æ¥è¿”å› `T`
- `httpClient.put<T>()` â†’ ç›´æ¥è¿”å› `T`
- `httpClient.patch<T>()` â†’ ç›´æ¥è¿”å› `T`
- `httpClient.delete<T>()` â†’ ç›´æ¥è¿”å› `T`

#### ä½¿ç”¨è§„èŒƒ
```typescript
// âœ… æ­£ç¡®ï¼šåœ¨é¡µé¢æˆ–ç»„ä»¶ä¸­ä½¿ç”¨
import { dictApi } from '@/services/dict'
import { userApi } from '@/services/user'

// APIè°ƒç”¨
const response = await dictApi.getDictionaries(filters, page, pageSize)
// response å·²ç»æ˜¯ { items: [...], pagination: {...} }
setDictionaries(response.items)

// âŒ é”™è¯¯ï¼šä¸è¦å†æ¬¡è®¿é—® .data
const response = await dictApi.getDictionaries(filters, page, pageSize)
setDictionaries(response.data.items)  // âŒ response.data æ˜¯ undefined
```

---

**æœ¬æ¶æ„æ–‡æ¡£éšé¡¹ç›®æ¼”è¿›æŒç»­æ›´æ–°ï¼Œè¯·ç¡®ä¿å›¢é˜Ÿæˆå‘˜éƒ½èƒ½è®¿é—®åˆ°æœ€æ–°ç‰ˆæœ¬ã€‚**